!function(t){t.extend({viewImage:function(e){var i=t.extend({target:".view-image img",exclude:"",delay:300},e);t(i.exclude).attr("view-image",!1),t(i.target).click(function(){var e=t(this).attr("src"),n=t(this).attr("href"),a="",o="<style class='view-image-css'>.view-img{position:fixed;background:#fff;background:rgba(255,255,255,.92);width:100%;height:100%;top:0;left:0;text-align:center;padding:2%;z-index:999;cursor: zoom-out}.view-img img,.view-img span{max-width:100%;max-height:100%;position:relative;top:50%;transform: translateY(-50%);}.view-img img{animation:view-img-show .8s -0.1s ease-in-out}.view-img span{height:2em;color:#AAB2BD;overflow:hidden;position:absolute;top:50%;left:0;right:0;width:120px;text-align:center;margin:-1em auto;}.view-img span:after{content:'';position:absolute;bottom:0;left:0;transform: translateX(-100%);width:100%;height:2px;background:#3274ff;animation:view-img-load .8s -0.1s ease-in-out infinite;}@keyframes view-img-load{0%{transform: translateX(-100%);}100%{transform: translateX(100%);}}@keyframes view-img-show{0%{opacity:0;}100%{opacity:1;}}</style>";return t(this).attr("view-image")||t(this).attr("rel")?void 0:(a=e||n,t("body").append(o+"<div class='view-img'><span>loading...</span></div>"),setTimeout(function(){var e=new Image;e.src=a,e.onload=function(){t(".view-img").html("<img src="+this.src+">")},t(".view-img").click(function(){t(".view-image-css").remove(),t(this).remove()})},i.delay),!1)})}})}(jQuery),jQuery(function(t){function e(){var e=t(window),n=t("#scroll-to-top");e.scroll(function(){n[e.scrollTop()>100?"removeClass":"addClass"]("hidden")}),n.on(i,function(e){e.preventDefault(),t("body, html").animate({scrollTop:0},500)})}var i="ontouchstart"in window?"touchstart":"click";e()}),jQuery(document).ready(function(t){function e(e,i,n){flag=!0,t(e).click(function(){t(e).prop("class",(flag=!flag)?i:n)})}e("#mStats","stats_click","stats_close"),e("#mClick","mobile_click","mobile_close")}),$(document).ready(function(){$(".icon-list").click(function(){$(".fn_article_nav").toggle()})});var mNavlist=$(".js-m-navlist");mNavlist.on("click",function(){var t=$(this).parent(".m_nav-list").data("cssclass"),e=$(this).parent(".m_nav-list").hasClass(t),i=document.documentElement.clientHeight,n=1*i+"px",a=.22*i+"px",o=$(".m_nav-wrapper");o.css({height:n,padding:a+" 0 "+a,transform:"translate3d(0,-"+i+"px,0)"}),e?($(this).parent(".m_nav-list").removeClass(t),o.css({transform:"translate3d(0,-"+i+"px,0)"})):($(this).parent(".m_nav-list").addClass(t),o.css({transform:"translate3d(0,0,0)"}))}),$("pre code").each(function(){$(this).html("<ol><li>"+$(this).html().replace(/\n/g,"\n</li><li>")+"\n</li></ol>")}),$(".entry-content p img,.lonesome-img a img").each(function(){$("<figcaption class='image_title'></figcaption>").insertAfter(this);var t=$(this).parents(".entry-content p,.lonesome-img a").find("img"),e=t.attr("alt");$(this).siblings(".image_title").html(e)}),$(function(){function t(){$("footer").removeClass("fixed-bottom");var t=document.body.scrollHeight,e=window.innerHeight;t>e?$("footer").removeClass("fixed-bottom"):$("footer").addClass("fixed-bottom")}t(),$(window).resize(t)});const regx=/\.(jpe?g|png)(?=\?|$)/i;$(".entry-content").find("a").each(function(){const t=$(this).attr("href"),e=regx.test(t);e||$(this).attr("rel","external")}),$(document).ready(function(){$(".toc a").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length&&t||$("[name="+this.hash.slice(1)+"]"),t.length){var e=t.offset().top+-60+"px";return $("html,body").animate({scrollTop:e},500),!1}}})}),$(function(t){t(" .next").click(function(){$this=t(this),$this.addClass("loading").text("正在努力加载");var e=$this.attr("href"),i=/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#])?/;return e=e.replace(i,location.href),null!=e&&t.ajax({url:e,type:"get",error:function(t){},success:function(e){$this.removeClass("loading").text("点击查看更多");var i=t(e).find(".post-318 ");t(".col-md-8").append(i.fadeIn(500));var n=t(e).find(" .next").attr("href");null!=n?t(".next").attr("href",n):t(".next").remove()}}),!1})}),hljs.highlightAll(),wow=new WOW({boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0}),wow.init();var hosts=window.location.host;if("blog.manchan.ml"==hosts){var _hmt=_hmt||[];(function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?8f120d9fed3fd2ee8687f27f6e7ae7f6";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)})()}else{_hmt=_hmt||[];(function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?4546e037575b94355f48671241e8193c";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)})()}$(function(){var t;if(t=$("#back_to_top"),$(document).width()>480)return $(window).scroll(function(){var e;return e=$(window).scrollTop(),e>30?t.css("display","block"):t.css("display","none")}),t.click(function(){return $("body,html").animate({scrollTop:0},800),!1})});